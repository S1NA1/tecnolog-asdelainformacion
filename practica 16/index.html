<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Netflix Grid con Trailers</title>
<link rel="stylesheet" href="estilos.css">

<body>

<header class="header">
  <h1 class="logo">NETFLIX</h1>
  <h2 class="subtitle">Tendencias en México</h2>
</header>

<div class="container">

  <div class="item item1" data-title="Stranger Things" data-trailer="https://www.youtube.com/embed/mnd7sFt5c3A" data-desc="Un grupo de niños se enfrenta a sucesos paranormales en Hawkins, Indiana.">
    <img src="https://image.tmdb.org/t/p/w780/x2LSRK2Cm7MZhjluni1msVJ3wDF.jpg" alt="Stranger Things">
    <div class="overlay">
      <button class="play">▶ Reproducir</button>
      <button class="add">+ Mi lista</button>
    </div>
  </div>

  <div class="item item2" data-title="La Casa de Papel" data-trailer="https://www.youtube.com/embed/2NFIY0Wv3Rc" data-desc="Un grupo de ladrones realiza el mayor atraco a la Fábrica Nacional de Moneda y Timbre.">
    <img src="https://image.tmdb.org/t/p/w780/reEMJA1uzscCbkpeRJeTT2bjqUp.jpg" alt="La Casa de Papel">
    <div class="overlay">
      <button class="play">▶ Reproducir</button>
      <button class="add">+ Mi lista</button>
    </div>
  </div>

  <div class="item item3" data-title="Wednesday" data-trailer="https://youtu.be/bHsXYGK5t5Y?si=8gjHMHMk0qJEkupO" data-desc="Wednesday Addams resuelve misterios sobrenaturales en la Academia Nevermore.">
    <img src="https://image.tmdb.org/t/p/w780/9PFonBhy4cQy7Jz20NpMygczOkv.jpg" alt="Wednesday">
    <div class="overlay">
      <button class="play">▶ Reproducir</button>
      <button class="add">+ Mi lista</button>
    </div>
  </div>

  <div class="item item4" data-title="Breaking Bad" data-trailer="https://www.youtube.com/embed/HhesaQXLuRY" data-desc="La historia de un profesor de química que se convierte en fabricante de metanfetamina.">
    <img src="https://image.tmdb.org/t/p/w780/ggFHVNu6YYI5L9pCfOacjizRGt.jpg" alt="Breaking Bad">
    <div class="overlay">
      <button class="play">▶ Reproducir</button>
      <button class="add">+ Mi lista</button>
    </div>
  </div>

  <div class="item item5" data-title="The Witcher" data-trailer="https://www.youtube.com/embed/ndl1W4ltcmg" data-desc="Geralt de Rivia, un cazador de monstruos, lucha por encontrar su lugar en el mundo.">
    <img src="https://image.tmdb.org/t/p/w780/zrPpUlehQaBf8YX2NrVrKK8IEpf.jpg" alt="The Witcher">
    <div class="overlay">
      <button class="play">▶ Reproducir</button>
      <button class="add">+ Mi lista</button>
    </div>
  </div>

  <div class="item item6" data-title="Squid Game" data-trailer="https://www.youtube.com/embed/oqxAJKy0ii4" data-desc="Participantes en un juego mortal compiten por un premio millonario.">
    <img src="https://image.tmdb.org/t/p/w780/dDlEmu3EZ0Pgg93K2SVNLCjCSvE.jpg" alt="Squid Game">
    <div class="overlay">
      <button class="play">▶ Reproducir</button>
      <button class="add">+ Mi lista</button>
    </div>
  </div>

  <div class="item item7" data-title="Lucifer" data-trailer="https://www.youtube.com/embed/5EwAJGkKaeI" data-desc="Lucifer Morningstar abandona el infierno y comienza a vivir en Los Ángeles.">
    <img src="https://image.tmdb.org/t/p/w780/ekZobS8isE6mA53RAiGDG93hBxL.jpg" alt="Lucifer">
    <div class="overlay">
      <button class="play">▶ Reproducir</button>
      <button class="add">+ Mi lista</button>
    </div>
  </div>

  <div class="item item8" data-title="Black Mirror" data-trailer="https://www.youtube.com/embed/jDiYGjp5iug" data-desc="Relatos sobre el lado oscuro de la tecnología y la sociedad.">
    <img src="https://preview.redd.it/poster-for-season-7-of-black-mirror-v0-t5ziywsl52ne1.jpeg?width=640&crop=smart&auto=webp&s=547514b1aab6bc3a75eef1d8be2d87bc53ea91a4" alt="Black Mirror">
    <div class="overlay">
      <button class="play">▶ Reproducir</button>
      <button class="add">+ Mi lista</button>
    </div>
  </div>

  <div class="item item9" data-title="Netflix Originals" data-trailer="https://www.youtube.com/embed/tt79dbOPd9Z9ykEOpvckttgYXwH" data-desc="Colección de series y películas originales de Netflix.">
    <img src="https://image.tmdb.org/t/p/w1280/tt79dbOPd9Z9ykEOpvckttgYXwH.jpg" alt="Netflix Originals">
    <div class="overlay">
      <button class="play">▶ Reproducir</button>
      <button class="add">+ Mi lista</button>
    </div>
  </div>

</div>

<!-- POPUP -->
<div id="popup" class="popup">
  <div class="popup-content">
    <span class="close">&times;</span>
    <h2 id="popup-title"></h2>
    <p id="popup-desc"></p>
    <div id="popup-video-container"></div>
  </div>
</div>

<script>
const playButtons = document.querySelectorAll('.play');
const addButtons = document.querySelectorAll('.add');
const popup = document.getElementById('popup');
const popupTitle = document.getElementById('popup-title');
const popupDesc = document.getElementById('popup-desc');
const popupVideoContainer = document.getElementById('popup-video-container');
const closeBtn = document.querySelector('.popup .close');

function openPopup(item, action) {
  popupTitle.textContent = item.dataset.title;
  popupDesc.textContent = action === "Mi lista" ? item.dataset.desc : "";

  if(action === "Reproducir" && item.dataset.trailer) {
    popupVideoContainer.innerHTML = `<iframe width="100%" height="315" src="${item.dataset.trailer}" frameborder="0" allowfullscreen></iframe>`;
  } else {
    popupVideoContainer.innerHTML = "";
  }

  popup.style.display = 'flex';
}

playButtons.forEach(btn => {
  btn.addEventListener('click', e => {
    const item = e.target.closest('.item');
    openPopup(item, 'Reproducir');
  });
});

addButtons.forEach(btn => {
  btn.addEventListener('click', e => {
    const item = e.target.closest('.item');
    openPopup(item, 'Mi lista');
  });
});

closeBtn.addEventListener('click', () => {
  popup.style.display = 'none';
  popupVideoContainer.innerHTML = "";
});

popup.addEventListener('click', e => {
  if(e.target === popup) {
    popup.style.display = 'none';
    popupVideoContainer.innerHTML = "";
  }
});
</script>

</body>
</html>
